<form [formGroup]="userForm" *ngIf="!isFetching" (ngSubmit)="onSubmit()">
  <div class="form-group row" *ngIf="editMode" hidden>
    <label for="id" class="col-sm-2 col-form-label">Id</label>
    <div class="col-sm-10">
      <input type="text" class="form-control" id="id" formControlName="id" />
    </div>
  </div>

  <div class="form-group row">
<!--   TODO missing id on select -->
    <label for="userTitle" class="col-sm-2 col-form-label">Title</label>
    <div class="col-sm-10">
      <select formControlName="userTitle" class="form-control">
        <option [ngValue]="null" disabled>Choose Title</option>
        <option
          *ngFor="let usrTitle of userEditModel?.titles"
          [ngValue]="usrTitle.id"
        >
          {{ usrTitle.description }}
        </option>
      </select>
      <span
        *ngIf="
          !userForm?.get('userTitle')?.valid &&
          userForm?.get('userTitle')?.touched
        "
        class="help-block"
      >
        <span *ngIf="userForm?.get('userTitle')?.errors['required']"
          >This field is required!</span
        >
      </span>
    </div>
  </div>

  <div class="form-group row">
    <label for="name" class="col-sm-2 col-form-label">Name</label>
    <div class="col-sm-10">
      <input
        type="text"
        class="form-control"
        id="name"
        formControlName="name"
        maxlength="20"
      />
    </div>
  </div>
  <div class="form-group row">
    <label for="surname" class="col-sm-2 col-form-label">Surname</label>
    <div class="col-sm-10">
      <input
        type="text"
        id="surname"
        formControlName="surname"
        class="form-control"
        maxlength="20"
      />
    </div>
  </div>
  <div class="form-group row">
    <label for="birthDate" class="col-sm-2 col-form-label">Birthdate</label>
    <div class="col-sm-10">
      <input
        type="date"
        id="birthDate"
        formControlName="birthDate"
        class="form-control"
      />
    </div>
  </div>
  <div class="form-group row">
    <label for="email" class="col-sm-2 col-form-label">Email</label>
    <div class="col-sm-10">
      <input
        type="email"
        id="email"
        formControlName="email"
        class="form-control"
        maxlength="50"
      />
      <span
        *ngIf="
          !userForm?.get('email')?.valid && userForm?.get('email')?.touched
        "
        class="help-block"
      >
        <span *ngIf="userForm?.get('email')?.errors['email']"
          >This is not a valid email</span
        >
      </span>
    </div>
  </div>

  <div class="form-group row">
    <label for="userType" class="col-sm-2 col-form-label">Type</label>
    <!--   TODO missing id on select -->
    <div class="col-sm-10">
      <select formControlName="userType" class="form-control">
        <option [ngValue]="null" disabled>Choose Type</option>
        <option
          *ngFor="let usrType of userEditModel?.types"
          [ngValue]="usrType.id"
        >
          {{ usrType.description }}
        </option>
      </select>
      <span
        *ngIf="
          !userForm?.get('userType')?.valid &&
          userForm?.get('userType')?.touched
        "
        class="help-block"
      >
        <span *ngIf="userForm?.get('userType')?.errors['required']"
          >This field is required!</span
        >
      </span>
    </div>
  </div>

  <div class="form-group row">
    <div class="col-sm-10">
      <button
        type="submit"
        class="btn btn-primary"
        [disabled]="!userForm?.valid"
      >
        Save
      </button>
      <button type="button" class="btn btn-danger ml-2" (click)="onCancel()">
        Cancel
      </button>
    </div>
  </div>
</form>
